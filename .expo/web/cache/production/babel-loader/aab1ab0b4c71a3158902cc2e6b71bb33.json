{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{useState}from\"react\";export default useApi=function useApi(apiFunc){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var request=function request(){var response,_args=arguments;return _regeneratorRuntime.async(function request$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return _regeneratorRuntime.awrap(apiFunc.apply(void 0,_args));case 3:response=_context.sent;setLoading(false);if(response.ok){_context.next=7;break;}return _context.abrupt(\"return\",setError(true));case 7:setError(false);setCoinMarket(response.data);case 9:case\"end\":return _context.stop();}}},null,null,null,Promise);};return{data:data,error:error,loading:loading,request:request};};","map":{"version":3,"sources":["C:/Users/jacob/AwesomeProject/app/Hooks/useApi.js"],"names":["useState","useApi","apiFunc","error","setError","loading","setLoading","data","setData","request","response","ok","setCoinMarket"],"mappings":"6HAAA,OAASA,QAAT,KAAyB,OAAzB,CAEA,cAAeC,CAAAA,MAAM,CAAG,gBAACC,OAAD,CAAa,eACTF,QAAQ,CAAC,KAAD,CADC,wCAC5BG,KAD4B,eACrBC,QADqB,8BAELJ,QAAQ,CAAC,KAAD,CAFH,yCAE5BK,OAF4B,eAEnBC,UAFmB,8BAGXN,QAAQ,CAAC,EAAD,CAHG,yCAG5BO,IAH4B,eAGtBC,OAHsB,eAMnC,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,iJACdH,UAAU,CAAC,IAAD,CAAV,CADc,iDAESJ,OAAO,MAAP,cAFT,SAERQ,QAFQ,eAGdJ,UAAU,CAAC,KAAD,CAAV,CAHc,GAITI,QAAQ,CAACC,EAJA,yDAIWP,QAAQ,CAAC,IAAD,CAJnB,SAMdA,QAAQ,CAAC,KAAD,CAAR,CACAQ,aAAa,CAACF,QAAQ,CAACH,IAAV,CAAb,CAPc,qEAAhB,CASA,MAAO,CAAEA,IAAI,CAAJA,IAAF,CAAQJ,KAAK,CAALA,KAAR,CAAeE,OAAO,CAAPA,OAAf,CAAwBI,OAAO,CAAPA,OAAxB,CAAP,CACD,CAhBD","sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default useApi = (apiFunc) => {\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  //Loading marketdata\r\n  const request = async (...args) => {\r\n    setLoading(true);\r\n    const response = await apiFunc(...args);\r\n    setLoading(false);\r\n    if (!response.ok) return setError(true);\r\n\r\n    setError(false);\r\n    setCoinMarket(response.data);\r\n  };\r\n  return { data, error, loading, request };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}